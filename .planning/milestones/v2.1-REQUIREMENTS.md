# Requirements Archive: v2.1 AI Refresh

**Archived:** 2026-02-17
**Status:** SHIPPED

For current requirements, see `.planning/REQUIREMENTS.md`.

---

# Requirements: TicketFlow

**Defined:** 2026-02-16
**Core Value:** Application desktop polished et productive — experience comparable a Linear pour projets personnels

## v2.1 Requirements

Requirements for milestone v2.1 "AI Refresh". Each maps to roadmap phases.

### Settings Architecture

- [ ] **SETT-01**: User can access App Settings (language, theme, updates) separately from AI settings
- [ ] **SETT-02**: User can access dedicated AI Settings panel from header (top-right)
- [ ] **SETT-03**: Project-level AI provider selector is removed — one global AI config only
- [ ] **SETT-04**: AI configuration from old SettingsModal is migrated to new AI Settings panel

### Provider Management

- [ ] **PROV-01**: User can configure built-in AI providers (Groq, Gemini, OpenAI) with API key and model
- [ ] **PROV-02**: User can add custom OpenAI-compatible providers (name, base URL, API key, model)
- [ ] **PROV-03**: User can edit and delete custom providers
- [ ] **PROV-04**: User can test provider connection and see latency + error details
- [ ] **PROV-05**: User sees provider status indicator (configured/not configured) in AI settings
- [ ] **PROV-06**: CSP updated to support HTTPS custom endpoints in Tauri

### Generation UX

- [ ] **GENX-01**: User sees loading spinner and progress text when AI is generating
- [ ] **GENX-02**: User can cancel in-flight AI generation
- [ ] **GENX-03**: Provider selector in ticket creation modal actually overrides default provider
- [ ] **GENX-04**: Tooltip recommends Gemini free tier (Pay-as-you-go Level 1)
- [ ] **GENX-05**: AI errors display user-friendly messages with retry option

### Internals

- [ ] **INTL-01**: Provider registry centralizes all provider logic (single source of truth)
- [ ] **INTL-02**: Client singleton cache supports custom baseURL (no state leaks on provider switch)
- [ ] **INTL-03**: i18n keys added for all new AI settings UI (FR + EN)

## Future Requirements

### Deferred from v2.1

- **PROV-07**: Provider health dashboard (latency tracking, success rate, cost estimates)
- **PROV-08**: Smart provider switching (auto-fallback to backup provider on failure)
- **GENX-06**: Streaming response preview (character-by-character AI typing)
- **GENX-07**: AI onboarding wizard (guided 3-step setup for first-time users)
- **PROV-09**: Usage analytics dashboard for AI providers

## Out of Scope

| Feature | Reason |
|---------|--------|
| Built-in LLM server | Out of scope — support external endpoints (Ollama, LM Studio) instead |
| Multi-provider chat comparison | UI complexity, edge cases — single provider at a time |
| Fine-tuning interface | Niche use case, not for vibecoders |
| Token counting UI | Implementation complexity vs value — show capacity percentage instead |
| Prompt templates library | Feature creep — use hardcoded optimized prompts |
| Provider account creation | Each provider has unique signup flow — deep link instead |

## Traceability

Which phases cover which requirements. Updated during roadmap creation.

| Requirement | Phase | Status |
|-------------|-------|--------|
| SETT-01 | Phase 23 | Pending |
| SETT-02 | Phase 23 | Pending |
| SETT-03 | Phase 23 | Pending |
| SETT-04 | Phase 23 | Pending |
| PROV-01 | Phase 23 | Pending |
| PROV-02 | Phase 23 | Pending |
| PROV-03 | Phase 23 | Pending |
| PROV-04 | Phase 24 | Pending |
| PROV-05 | Phase 23 | Pending |
| PROV-06 | Phase 22 | Pending |
| GENX-01 | Phase 24 | Pending |
| GENX-02 | Phase 24 | Pending |
| GENX-03 | Phase 24 | Pending |
| GENX-04 | Phase 24 | Pending |
| GENX-05 | Phase 24 | Pending |
| INTL-01 | Phase 22 | Pending |
| INTL-02 | Phase 22 | Pending |
| INTL-03 | Phase 24 | Pending |

**Coverage:**
- v2.1 requirements: 18 total
- Mapped to phases: 18
- Unmapped: 0

**Coverage validation:** ✓ All 18 v2.1 requirements mapped to phases 22-24

---
*Requirements defined: 2026-02-16*
*Last updated: 2026-02-16 after roadmap creation*
