---
phase: 23-settings-ui-split-provider-config
plan: 02
type: execute
wave: 2
depends_on: ["23-01"]
files_modified:
  - src/i18n/types.ts
  - src/i18n/locales/fr.ts
  - src/i18n/locales/en.ts
  - src/components/settings/AppSettingsModal.tsx
  - src/components/settings/AISettingsModal.tsx
  - src/components/settings/ProviderCard.tsx
  - src/components/settings/CustomProviderForm.tsx
  - src/components/settings/CustomProviderList.tsx
autonomous: true
must_haves:
  truths:
    - "All new i18n keys exist in types.ts, fr.ts, and en.ts for settings split UI strings"
    - "All five Plan 01 components use t.settings.* calls instead of hardcoded English strings"
    - "No // TODO: i18n comments remain in any Plan 01 component"
    - "pnpm build passes with zero errors"
  artifacts:
    - path: "src/i18n/types.ts"
      provides: "New i18n key definitions for settings split"
      contains: "appSettings|aiSettings|customProviders"
    - path: "src/i18n/locales/fr.ts"
      provides: "French translations for all new settings keys"
      contains: "appSettings|aiSettings|customProviders"
    - path: "src/i18n/locales/en.ts"
      provides: "English translations for all new settings keys"
      contains: "appSettings|aiSettings|customProviders"
  key_links:
    - from: "src/components/settings/AISettingsModal.tsx"
      to: "src/i18n/types.ts"
      via: "useTranslation() t.settings.aiSettings"
      pattern: "t\\.settings\\.aiSettings"
    - from: "src/components/settings/CustomProviderList.tsx"
      to: "src/i18n/types.ts"
      via: "useTranslation() t.settings.noCustomProviders"
      pattern: "t\\.settings\\.noCustomProviders"
---

<objective>
Add all new i18n keys required by the settings split, then update the five Plan 01 components to replace hardcoded English strings with proper i18n calls.

Purpose: Complete the internationalization layer so all user-facing strings in the new settings components are translatable in both FR and EN.

Output: i18n types and locale files updated, all Plan 01 components using t.settings.* for every user-facing string.
</objective>

<execution_context>
@C:/Users/Boris/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/Boris/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Plan 01 summary (new component files with // TODO: i18n markers)
@.planning/phases/23-settings-ui-split-provider-config/23-01-SUMMARY.md

# i18n files to modify
@src/i18n/types.ts
@src/i18n/locales/fr.ts
@src/i18n/locales/en.ts

# Plan 01 components to update
@src/components/settings/AppSettingsModal.tsx
@src/components/settings/AISettingsModal.tsx
@src/components/settings/ProviderCard.tsx
@src/components/settings/CustomProviderForm.tsx
@src/components/settings/CustomProviderList.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add i18n keys to types and locale files</name>
  <files>
    src/i18n/types.ts
    src/i18n/locales/fr.ts
    src/i18n/locales/en.ts
  </files>
  <action>
**i18n/types.ts** — Add new keys to the `settings` section of the Translations interface:
```typescript
// Add after existing settings keys:
appSettings: string;
aiSettings: string;
providers: string;
customProviders: string;
addProvider: string;
editProvider: string;
deleteProvider: string;
deleteProviderConfirm: string;
providerName: string;
endpointURL: string;
endpointHint: string;
defaultModel: string;
apiKeyOptional: string;
apiKeyHintLocal: string;
providerConfigured: string;
providerNotConfigured: string;
noCustomProviders: string;
providerAdded: string;
providerDeleted: string;
saveProvider: string;
```

**i18n/locales/fr.ts** — Add French translations for all new keys:
```typescript
appSettings: 'Parametres generaux',
aiSettings: 'Parametres IA',
providers: 'Fournisseurs',
customProviders: 'Fournisseurs personnalises',
addProvider: 'Ajouter un fournisseur',
editProvider: 'Modifier',
deleteProvider: 'Supprimer',
deleteProviderConfirm: 'Supprimer ce fournisseur personnalise ?',
providerName: 'Nom du fournisseur',
endpointURL: 'URL de l\'endpoint',
endpointHint: 'Doit etre HTTPS ou localhost',
defaultModel: 'Modele par defaut',
apiKeyOptional: 'Cle API (optionnelle)',
apiKeyHintLocal: 'Laisser vide pour les fournisseurs localhost',
providerConfigured: 'Configure',
providerNotConfigured: 'Non configure',
noCustomProviders: 'Aucun fournisseur personnalise. Ajoutez Ollama, LM Studio ou d\'autres endpoints compatibles OpenAI.',
providerAdded: 'Fournisseur ajoute',
providerDeleted: 'Fournisseur supprime',
saveProvider: 'Enregistrer',
```

**i18n/locales/en.ts** — Add English translations for all new keys:
```typescript
appSettings: 'General Settings',
aiSettings: 'AI Settings',
providers: 'Providers',
customProviders: 'Custom Providers',
addProvider: 'Add Provider',
editProvider: 'Edit',
deleteProvider: 'Delete',
deleteProviderConfirm: 'Delete this custom provider?',
providerName: 'Provider Name',
endpointURL: 'Endpoint URL',
endpointHint: 'Must be HTTPS or localhost',
defaultModel: 'Default Model',
apiKeyOptional: 'API Key (optional)',
apiKeyHintLocal: 'Leave empty for localhost providers',
providerConfigured: 'Configured',
providerNotConfigured: 'Not configured',
noCustomProviders: 'No custom providers. Add Ollama, LM Studio, or other OpenAI-compatible endpoints.',
providerAdded: 'Provider added',
providerDeleted: 'Provider deleted',
saveProvider: 'Save',
```
  </action>
  <verify>
Run `pnpm build` — must pass. The new keys should be type-safe (TypeScript will enforce matching keys across types.ts and both locale files).
  </verify>
  <done>
All 20 new i18n keys added to types.ts, fr.ts, and en.ts. TypeScript enforces matching shape across all three files.
  </done>
</task>

<task type="auto">
  <name>Task 2: Replace hardcoded strings in Plan 01 components with i18n calls</name>
  <files>
    src/components/settings/AppSettingsModal.tsx
    src/components/settings/AISettingsModal.tsx
    src/components/settings/ProviderCard.tsx
    src/components/settings/CustomProviderForm.tsx
    src/components/settings/CustomProviderList.tsx
  </files>
  <action>
Go through all five Plan 01 components and replace every `// TODO: i18n` hardcoded string with the proper `t.settings.*` call.

**Search strategy:** Run `grep -rn "TODO: i18n" src/components/settings/` to find all occurrences.

**For each component:**
1. Find all `// TODO: i18n` comments
2. Replace the hardcoded English string next to it with the corresponding `t.settings.*` key
3. Remove the `// TODO: i18n` comment
4. Ensure `useTranslation` is imported if not already

**Expected mappings (adapt based on actual hardcoded strings found):**
- "General Settings" / modal title → `t.settings.appSettings`
- "AI Settings" / modal title → `t.settings.aiSettings`
- "Providers" tab label → `t.settings.providers`
- "Custom" / "Custom Providers" tab label → `t.settings.customProviders`
- "Add Provider" button → `t.settings.addProvider`
- "Edit" button → `t.settings.editProvider`
- "Delete" button → `t.settings.deleteProvider`
- Delete confirmation → `t.settings.deleteProviderConfirm`
- "Provider Name" label → `t.settings.providerName`
- "Endpoint URL" label → `t.settings.endpointURL`
- "Must be HTTPS or localhost" → `t.settings.endpointHint`
- "Default Model" label → `t.settings.defaultModel`
- "API Key (optional)" label → `t.settings.apiKeyOptional`
- "Leave empty for localhost..." → `t.settings.apiKeyHintLocal`
- "Configured" badge → `t.settings.providerConfigured`
- "Not configured" badge → `t.settings.providerNotConfigured`
- "No custom providers..." empty state → `t.settings.noCustomProviders`
- "Provider added" toast → `t.settings.providerAdded`
- "Provider deleted" toast → `t.settings.providerDeleted`
- "Save" button → `t.settings.saveProvider`

**Also in AISettingsModal.tsx:** Update the Modal title from `t.settings.title` to `t.settings.aiSettings`.

**IMPORTANT:** Do NOT modify any file not in the list above. Only touch the 5 Plan 01 component files.
  </action>
  <verify>
1. Run `grep -rn "TODO: i18n" src/components/settings/` — must return zero results.
2. Run `pnpm build` — must pass with zero errors.
  </verify>
  <done>
All five Plan 01 components use i18n keys for every user-facing string. No `// TODO: i18n` comments remain. pnpm build passes.
  </done>
</task>

</tasks>

<verification>
1. `pnpm build` passes without errors
2. `grep -rn "TODO: i18n" src/components/settings/` returns zero results
3. All 20 new keys present in types.ts, fr.ts, and en.ts
4. All five Plan 01 components use t.settings.* for user-facing strings
</verification>

<success_criteria>
- i18n types.ts has all 20 new keys defined
- fr.ts and en.ts have matching translations for all 20 keys
- All Plan 01 components use t.settings.* — no hardcoded strings remain
- `pnpm build` passes
</success_criteria>

<output>
After completion, create `.planning/phases/23-settings-ui-split-provider-config/23-02-SUMMARY.md`
</output>
